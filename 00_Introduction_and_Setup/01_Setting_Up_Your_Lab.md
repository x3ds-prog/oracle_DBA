# Модуль 0: Настройка лаборатории

## Урок 1: Поднимаем Oracle в Docker

Как системный администратор Linux, вы знаете, что установка сложного программного обеспечения — это боль. Зависимости, параметры ядра, системные лимиты... установка Oracle "на железо" — это классический пример такого квеста.

К счастью, мы можем избежать всего этого с помощью Docker. Мы будем использовать его для создания легковесной, изолированной и воспроизводимой среды для изучения Oracle.

### Почему Docker?

-   **Изоляция:** Контейнер с Oracle не затронет вашу основную систему.
-   **Скорость:** Развертывание занимает минуты, а не часы.
-   **Чистота:** Никаких "осиротевших" пакетов и библиотек после удаления. Все чисто, как `rm -rf`.

Мы будем использовать **Oracle Database Express Edition (XE)**. Это бесплатная, но полнофункциональная версия Oracle, идеальная для обучения. Ограничения по ресурсам (2 CPU, 2GB RAM, 12GB данных) для наших задач не имеют значения.

### Шаг 1: Запуск контейнера Oracle XE

Мы воспользуемся популярным и оптимизированным образом от Джеральда Венцля (Gerald Venzl), менеджера из Oracle. Его образы легче официальных и запускаются быстрее.

Откройте ваш терминал и выполните команду:

```bash
docker run -d \
  --name oracle-lab \
  -p 1521:1521 \
  -e ORACLE_PASSWORD=SecretPassword123 \
  gvenzl/oracle-xe
```

Давайте разберем эту команду:
-   `docker run -d`: Запустить контейнер в фоновом режиме (detached).
-   `--name oracle-lab`: Дать контейнеру понятное имя.
-   `-p 1521:1521`: Пробросить стандартный порт Oracle (1521) с хоста в контейнер.
-   `-e ORACLE_PASSWORD=...`: Установить пароль для административных пользователей. **Важно:** В реальной среде используйте более надежный пароль.
-   `gvenzl/oracle-xe`: Имя образа, который мы используем (Oracle Database 21c XE).

> **Для админа Linux: Аналогии**
> 
> -   **Пользователь `SYSTEM`**: Считайте его аналогом `root` в мире Oracle. Это суперадминистратор, с которым мы будем работать на начальном этапе.
> -   **Порт `1521`**: Это как порт `22` для SSH. Стандартный порт, через который все клиенты подключаются к базе данных.

### Шаг 2: Проверка статуса (Healthcheck)

Oracle — это не `nginx`. Ему нужно время на "разогрев": создание файлов базы данных, инициализацию памяти и запуск фоновых процессов. Этот процесс похож на `fsck` при загрузке системы.

Давайте посмотрим логи, как мы привыкли:

```bash
docker logs -f oracle-lab
```

Вы увидите много служебной информации. Дождитесь появления заветной строки:

```
#########################
DATABASE IS READY TO USE!
#########################
```

Это может занять от 1 до 5 минут в зависимости от вашего оборудования. Как только увидите это сообщение, можно остановить вывод логов (`Ctrl+C`).

### Шаг 3: Первое подключение с помощью SQL*Plus

Давайте подключимся к базе данных. Мы не будем устанавливать никаких клиентов на хост, а воспользуемся утилитой `sqlplus`, которая уже есть внутри контейнера. Это наш `ssh` в мир Oracle.

```bash
docker exec -it oracle-lab sqlplus system/SecretPassword123
```

-   `docker exec -it`: Запустить интерактивную сессию внутри работающего контейнера.
-   `sqlplus`: Имя клиентской утилиты Oracle.
-   `system/SecretPassword123`: Логин и пароль, которые мы задали.

Если все прошло успешно, вы увидите приглашение командной строки SQL:

```sql
SQL>
```

Поздравляю! Вы внутри одной из самых мощных СУБД в мире.

### Рекомендация: Графический клиент DBeaver

Работать в `sqlplus` полезно для понимания основ, но для написания сложных запросов это неудобно. Рекомендую установить **DBeaver Community Edition** — это мощный, бесплатный и кроссплатформенный SQL-клиент, который поддерживает Oracle.

Для подключения в DBeaver используйте следующие параметры:

-   **Тип подключения:** Oracle
-   **Хост:** `localhost`
-   **Порт:** `1521`
-   **Имя сервиса (Service Name):** `XE`
-   **Пользователь:** `system`
-   **Пароль:** `SecretPassword123`

### Что дальше?

Теперь, когда у вас есть работающая "лаборатория" и инструменты для подключения, вы готовы перейти к следующему модулю и начать изучать язык SQL.
